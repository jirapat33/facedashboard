<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Face Scan Dashboard</title>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

<style>
body {
  font-family: Arial;
  padding: 20px;
  background: #111;
  color: white;
}

table {
  border-collapse: collapse;
  width: 100%;
  background: #222;
}

td, th {
  border: 1px solid #444;
  padding: 8px;
}

th {
  background: #333;
}
</style>
</head>

<body>

<h1>üì∑ Face Scan Dashboard</h1>

<table>
<thead>
<tr>
<th>‡πÄ‡∏ß‡∏•‡∏≤</th>
<th>‡∏ä‡∏∑‡πà‡∏≠</th>
<th>Score</th>
<th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</th>
</tr>
</thead>

<tbody id="logTable"></tbody>
</table>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyC_HoCxNTNkT0lwLnhFo2XhhL9ZsaJyJsE",
  authDomain: "face-c21b8.firebaseapp.com",
  databaseURL: "https://face-c21b8-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "face-c21b8",
  storageBucket: "face-c21b8.firebasestorage.app",
  messagingSenderId: "757987663456",
  appId: "1:757987663456:web:a098ca97ba7f45bb826d05",
  measurementId: "G-9VQT7LYXVT"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

db.ref("scan_logs").limitToLast(100).on("child_added", snap => {

  const data = snap.val();

  const tr = document.createElement("tr");

  tr.innerHTML = `
    <td>${data.time}</td>
    <td>${data.date}</td>
    <td>${data.name}</td>
    <td>${data.emotion}</td>
  `;

  document.getElementById("logTable").prepend(tr);

});
</script>

</body>
</html>
